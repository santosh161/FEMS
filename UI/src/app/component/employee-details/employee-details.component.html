<div class="d-flex flex-wrap align-items-center gap-2 mb-2 mt-2">
  <!-- Employee Search -->
  <div class="flex-grow-1 flex-sm-grow-0" style="min-width: 120px;">
    <div class="input-group input-group-sm">
      <span class="input-group-text">
        <span class="material-symbols-outlined">search</span>
      </span>
      <input type="text"
             class="form-control"
             placeholder="Search..."
             [(ngModel)]="searchText"
             (input)="filterEmployees()">
    </div>
  </div>

  <!-- Factory Dropdown -->
  <div class="flex-grow-1 flex-sm-grow-0" style="min-width: 120px;">
    <div class="input-group input-group-sm">
      <span class="input-group-text">
        <span class="material-symbols-outlined">factory</span>
      </span>
      <select class="form-control" [(ngModel)]="selectedFactory" (change)="filterEmployees()">
        <option value="">All Factories</option>
        <option *ngFor="let f of factories" [value]="f">{{ f }}</option>
      </select>
    </div>
  </div>

  <!-- Add Employee Button -->
  <div style="min-width: 100px;">
    <button class="btn btn-sm btn-success w-100">
      <span class="material-symbols-outlined">person_add</span>
      <span class="d-none d-sm-inline ms-1">Add Employee</span>
    </button>
  </div>
</div>





<div class="table-responsive">
  <table class="table table-striped table-bordered table-sm">
    <thead class="table-light">
      <tr>
        <th>Sr no</th>
        <th>Name</th>
        <th>Designation</th>
        <th>Factory</th>
        <th>Salary</th>
        <th>Mobile</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of filteredEmployees; trackBy: trackByEmployee">
        <td>{{ emp.id }}</td>
        <td>{{ emp.name }}</td>
        <td>{{ emp.designation }}</td>
        <td>{{ emp.factory }}</td>
        <td>â‚¹{{ emp.salary | number }}</td>
        <td>{{ emp.mobile }}</td>
        <td class="d-flex gap-1">
          <button class="btn btn-outline-primary btn-sm" (click)="openEditEmployee(emp)">
            <span class="material-symbols-outlined">edit</span>
          </button>
          <button class="btn btn-outline-danger btn-sm" (click)="deleteEmployee(emp)">
            <span class="material-symbols-outlined">delete</span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Employee Popup -->
<div class="custom-popup" *ngIf="isEmployeePopupOpen">
  <div class="custom-popup-content">
    <h5>{{ isAddMode ? 'Add Employee' : 'Edit Employee' }}</h5>
    <div *ngIf="selectedEmployee">
      <div class="mb-2">
        <label>Name:</label>
        <input type="text" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.name">
      </div>
      <div class="mb-2">
        <label>Designation:</label>
        <select class="form-control form-control-sm w-100" [(ngModel)]="selectedEmployee.designation">
          <option *ngFor="let d of designations" [value]="d">{{ d }}</option>
        </select>
      </div>
      
      
      <div class="mb-2">
        <label>Factory Name:</label>
        <input type="text" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.factory">
      </div>
      <div class="mb-2">
        <label>Salary:</label>
        <input type="number" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.salary">
      </div>
      <div class="mb-2">
        <label>Mobile No:</label>
        <input type="text" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.mobile">
      </div>
      <div class="mb-2">
        <label>Aadhar No:</label>
        <input type="text" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.aadhar">
      </div>
      <div class="mb-2">
        <label>Village:</label>
        <input type="text" class="form-control form-control-sm" [(ngModel)]="selectedEmployee.village">
      </div>

      <div class="d-flex justify-content-end gap-2 mt-3">
        <button class="btn btn-secondary btn-sm" (click)="closeEmployeePopup()">Close</button>
        <button class="btn btn-primary btn-sm" (click)="saveEmployee()">Save</button>
      </div>
    </div>
  </div>
</div>
